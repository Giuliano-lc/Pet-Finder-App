<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Animal</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #eef2f5;">
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #333;">
        <form style="display: grid; gap: 15px; background-color: #444; padding: 25px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); max-width: 400px; width: 100%;">
            <h1 style="color: #f4f4f4; text-align: center; font-size: 2rem; margin: 0; text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);">
                Cadastrar Animais
            </h1>
            
            <div style="display: flex; align-items: center;">
                <label for="nome_animal" style="color: #f4f4f4; width: 120px;">Nome do Animal:</label>
                <input type="text" id="nome_animal" required style="flex: 1; padding: 5px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
    
            <div style="display: flex; align-items: center;">
                <label for="especie_animal" style="color: #f4f4f4; width: 120px;">Espécie:</label>
                <input type="text" id="especie_animal" required style="flex: 1; padding: 5px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
    
            <div style="display: flex; align-items: center;">
                <label for="idade_animal" style="color: #f4f4f4; width: 120px;">Idade:</label>
                <input type="number" id="idade_animal" required style="flex: 1; padding: 5px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
    
            <div style="display: flex; align-items: center;">
                <label for="foto_animal" style="color: #f4f4f4; width: 120px;">Foto:</label>
                <input type="file" id="foto_animal" required accept="image/*" style="flex: 1; color: #f4f4f4; padding: 5px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
    
            <div style="display: flex; align-items: center;">
                <label for="nome_dono_animal" style="color: #f4f4f4; width: 120px;">Dono:</label>
                <input type="text" id="nome_dono_animal" required style="flex: 1; padding: 5px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
    
            <div style="text-align: center; margin-top: 10px;">
                <button onclick="enviar_dados(event)" style="padding: 10px 20px; background-color: #333; color: #f4f4f4; border: none; border-radius: 5px; cursor: pointer; text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);">
                    Cadastrar
                </button>
                <br>
                <a href="/" style="color: #aad4f4; text-decoration: none; margin-top: 10px; display: inline-block;">Voltar ao Inicio</a>
            </div>
        </form>
    </div>
</body>


<script>
function enviar_dados(event){
    event.preventDefault()
    var nome_animal = document.getElementById('nome_animal').value
    var especie_animal = document.getElementById('especie_animal').value
    var idade_animal = document.getElementById('idade_animal').value
    var foto_animal = document.getElementById('foto_animal')
    var nome_dono_animal = document.getElementById('nome_dono_animal').value

    const formData = new FormData();
    formData.append("file", foto_animal.files[0]);
    formData.append("nome", nome_animal);
    formData.append("especie", especie_animal);
    formData.append("idade", idade_animal);
    formData.append("nome_dono", nome_dono_animal);

    fetch('http://127.0.0.1:5000/cadastrar_animal', {method: "POST", body: formData })
        .then(response => {
            if (!response.ok) {
            throw new Error('Erro na requisição');
            }
            return response.json();
        })
        .then(data => {
            console.log(data.status);
        })
        .catch(error => {
            console.error('Erro ao obter os dados:', error);
        });
}
</script>

</html>